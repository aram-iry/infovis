# Datasets and preprocessing

To support our datastory with credible evidence, we used different sources to find relevant datasets that aligned with our topic, such as conservation databases, regional fisheries management databases, etc. We aimed to find data that was recent, diverse and comprehensive in scope in order to cover both aspects of the fishing industry and its documented impacts on whale populations.
We used datasets containing general information on different whale species, fishing industries, ship strikes and whale catches and more.

Dataset sources can be found on the [Sources](sources.md) page.

## Cleaning and preparing data

We cleaned datasets that contained diverse animal species (such as a dataset including species' populations trends and endangerment status) by filtering them to isolate whale species and exclude extraneous entries. We used ChatGPT to extract the relevant whale species' names from the set of animal species' names and then used Python and pandas to extract these from the datasets. 

Datasets that contained non-numeric values (for continuous variables) or empty entries were cleaned by getting rid of these entries before using.

Some datasets needed to be created from multiple datasets. For example, the dataset which the graph of fishing revenue vs GDP was based on was made from 3 datasets. First, a dataset containing the total capture production in metric tonnes per year and a dataset containing global fish prices per metric tonne per year were merged. This was used to calculate the annual revenue from the fishing industry which was made into a new dataset. This dataset was then merged with a dataset containing global GDP per year based on year to create the final dataset, which was easy to visualize for the datastory.

## Aggregations

Some datasets were usable immediately after cleaning, but others needed to undergo aggregations first. For example, the dataset used for the graph of global sources of dietary protein required multiple aggregation steps before it could be used: 1) summing protein sources by year to get global totals (collapsing country-level data into worldwide figures), 2) calculating yearly totals to establish the denominator for percentage contributions, 3) converting absolute values into percentages to show the relative share of each protein source (e.g., plant-based vs. animal-based) in the global diet over time. Without these aggregations, the data would have remained fragmented by country, making it impossible to observe worldwide trends in protein consumption patterns.
Such aggregations were also done for multiple other datasets.


## Variable descriptions

The variables we used can be grouped into multiple themes:

1. Time & Location
    - year (Numerical/Discrete): The year of the recorded data.
    - latitude (Numerical/Continuous): Geographic latitude of the record.
    - longitude (Numerical/Continuous): Geographic longitude of the record.
    - country (Categorical/Nominal): Country where the record occurred.

2. Fishing Industry
    - total capture production (Numerical/Continuous): Total fish caught.
    - capture production (Numerical/Continuous): Fish caught in a specific context.
    - fishing revenue (Numerical/Continuous): Total income generated generated by commercial fishing.
    - gdp (Numerical/Continuous): Total value of all goods/services produced in a country per year.

3. Whale-Specific Variables
    - amount of whale species (Numerical/Discrete): Number of distinct whale species.
    - endangerment classification (Categorical/Ordinal): Conservation status of whales.

4. Risk & Impact (Whales)
    - strike risk (Numerical/Continuous or Categorical): Likelihood of vessel strikes on whales.
    - total whale catches (Numerical/Discrete): Total whales captured.
